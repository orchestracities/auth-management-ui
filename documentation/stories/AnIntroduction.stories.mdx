

import {
    Title,
    Subtitle,
    Description,
    ArgsTable,
    Stories,
    PRIMARY_STORY,
    Meta, Story, Canvas, Source
} from '@storybook/addon-docs';
import policiesImage from './images/policies.png';
import serviceImage from './images/service.png';

<Meta title="Introduction" />

<style>
  {`
    .subheading {
      --mediumdark: '#999999';
      font-weight: 900;
      font-size: 13px;
      color: #999;
      letter-spacing: 6px;
      line-height: 24px;
      text-transform: uppercase;
      margin-bottom: 12px;
      margin-top: 40px;
    }

    .link-list {
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: 1fr 1fr;
      row-gap: 10px;
    }

    @media (min-width: 620px) {
      .link-list {
        row-gap: 20px;
        column-gap: 20px;
        grid-template-columns: 1fr 1fr;
      }
    }

    @media all and (-ms-high-contrast:none) {
    .link-list {
        display: -ms-grid;
        -ms-grid-columns: 1fr 1fr;
        -ms-grid-rows: 1fr 1fr;
      }
    }

    .link-item {
      display: block;
      padding: 20px 30px 20px 15px;
      border: 1px solid #00000010;
      border-radius: 5px;
      transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;
      color: #333333;
      display: flex;
      align-items: flex-start;
    }

    .link-item:hover {
      border-color: #1EA7FD50;
      transform: translate3d(0, -3px, 0);
      box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;
    }

    .link-item:active {
      border-color: #1EA7FD;
      transform: translate3d(0, 0, 0);
    }

    .link-item strong {
      font-weight: 700;
      display: block;
      margin-bottom: 2px;
    }

    .link-item img {
      height: 40px;
      width: 40px;
      margin-right: 15px;
      flex: none;
    }

    .link-item span {
      font-size: 14px;
      line-height: 20px;
    }

    .tip {
      display: inline-block;
      border-radius: 1em;
      font-size: 11px;
      line-height: 12px;
      font-weight: 700;
      background: #E7FDD8;
      color: #66BF3C;
      padding: 4px 12px;
      margin-right: 10px;
      vertical-align: top;
    }

    .tip-wrapper {
      font-size: 13px;
      line-height: 20px;
      margin-top: 40px;
      margin-bottom: 40px;
    }

    .tip-wrapper code {
      font-size: 12px;
      display: inline-block;
    }
  `}
</style>

# Auth-Management UI For Anubis


<Subtitle>Introduction: what is the Auth-Management UI?</Subtitle>

The Auth-Management UI provides a web based interface for
[Anubis policy-api](https://github.com/orchestracities/anubis)
using [Material for you](https://m3.material.io/) (or Material v3)
design system and [MUI](https://mui.com/) tools, to provide an intuitive and
a familiar look and feel for the end user.

This section documents the React components inside the app, and how to interact
with them.

The UI is built using a [component-driven](https://componentdriven.org)
approach, where every component can be rendered by its own without nesting
properties.

<img src={policiesImage}  />

<Subtitle>Documentation structure</Subtitle>


The documentation groups components by type based on their usage. There are for
examples components specific to `Tenants` or `Policies` data models and related
UI areas and components that are `Shared` across different UI areas.

Every component documentation includes a **Canvas** section to supports its
testing in a controlled environment and visualize it.

Beside Canvas section, each component documentation has also a Docs section that
provide information about the usage of the component, and its properties.
Every property has a type, default values and a description.

<Subtitle>External libraries used</Subtitle>

**Auth-Management UI** For Anubis is using [MUI or material UI](https://mui.com/)
to define most of the grid and components leveraging the last version of the
theme engine with some customization.

The goal is to create a clean code that can be easily understood based on MUI
documentation.

The UI is also using [Axios](https://github.com/axios/axios) as http client,
and [apollo client](https://www.apollographql.com/docs/react/) for
the interaction with graphql.

The authentication leverages [react oidc](https://github.com/AxaGuilDEv/react-oidc)
implementation of OpenID standard.

[React router](https://reactrouter.com/) is also used.

<img src={serviceImage}  />

<Subtitle>Components architecture</Subtitle>

The components inside the app are all pure functional components created using
[react hooks](https://en.reactjs.org/docs/hooks-intro.html) this choice was made 
or rendering reasons and to make the components **less dependable on states**.
 
Every component can be used in an isolated way, so if a change is needed or if
the components should be rendered with a different type of data inside another
page this can be achieved without changing the entire nesting architecture.


<Subtitle>Code structure</Subtitle>

The UI code is organized as follow:

- `src/`
  - `App.js` - the application component
  - `components` - the folder with all component types developed
  - `loginComponents` - the folder with the components used to manage
    authentication
  - `pages` - the pages used to display the different data views
  - `translations` - the folder with text translations

App.js manages the login and the main data inside the states,
the pages are realized using pure components.
